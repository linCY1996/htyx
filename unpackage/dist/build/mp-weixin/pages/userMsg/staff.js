(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/userMsg/staff"],{"05fa":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},o=[];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return o})},1150:function(e,t,a){"use strict";a.r(t);var i=a("05fa"),o=a("718d");for(var n in o)"default"!==n&&function(e){a.d(t,e,function(){return o[e]})}(n);a("7315");var u=a("2877"),s=Object(u["a"])(o["default"],i["a"],i["b"],!1,null,null,null);t["default"]=s.exports},"718d":function(e,t,a){"use strict";a.r(t);var i=a("d821"),o=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,function(){return i[e]})}(n);t["default"]=o.a},7315:function(e,t,a){"use strict";var i=a("e933"),o=a.n(i);o.a},d821:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{city:["选择地址","",""],bossarea:"",avatar:"",upAvatar:"",License:"",uplicense:!1,video:"",upvideo:!1,img:"",upimg:!1,sex:0,cid:1,jobIndex:0,sexIndex:0,jobArr:"",sexArr:["女","男"],jobId:""}},computed:{init:function(){var t=e.getStorageSync("openid"),a=this;return e.request({url:a.$store.state.baseurl+"/careerType/getType",data:{openId:t},header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){var t=[],i=[],o=e.data.data;for(var n in o)t.push(o[n].cname),i.push(o[n].cid);a.jobArr=t,a.jobId=i}}),!0}},onReady:function(){this.avatar=e.getStorageSync("headpic");var t=this,a=e.getStorageSync("openid");null==a||void 0==a||""==a||e.request({url:t.$store.state.baseurl+"/user/verifyRole",data:{openId:a},method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){var a=t.data.data;-1==a||-2==a||(0==a?e.reLaunch({url:"/pages/status/index"}):2==a?(e.setStorageSync("userType",2),e.reLaunch({url:"/pages/index/index"})):3==a&&(e.setStorageSync("userType",3),e.reLaunch({url:"/pages/index01/index"})))}})},onLoad:function(t){e.loadFontFace({family:"Alibaba PuHuiTi",source:'url("https://www.mastervan.cn/static/project/dolphin/static/font/alifont/AlibabaPuHuiTi-Light.ttf")',success:function(){console.log("load font success")},fail:function(){}}),this.avatar=e.getStorageSync("headpic")},onShow:function(){this.avatar=e.getStorageSync("headpic")},onHide:function(){},methods:{bindSexChange:function(e){this.sexIndex=e.target.value},bindJobChange:function(e){this.jobIndex=e.target.value},upBoss:function(){e.navigateTo({url:"/pages/status/index"})},bossArea:function(e){this.city="",this.city=e.detail.value},changHeadpic:function(){e.navigateTo({url:"/pages/upHead/index?status=0"})},upLicense:function(){var e=this;wx.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(t){console.log(t);var a=t.tempFilePaths;e.License=a,e.uplicense=!0,e.$store.commit("setQiangSt",!0);var i=e.$store.getters.isSt;console.log(i)},fail:function(){},complete:function(){}})},upVideo:function(){var t=this;e.chooseVideo({sourceType:["album","camera"],maxDuration:10,success:function(e){var a=e.tempFilePath;t.video=a,t.upvideo=!0,console.log(e)},fail:function(e){console.log(e)},complete:function(e){console.log(e)}})},upImg:function(){var e=this;wx.chooseImage({count:3,sizeType:["compressed"],sourceType:["album","camera"],success:function(t){var a=t.tempFilePaths;e.img=a,e.upimg=!0},fail:function(){},complete:function(){}})},submitData:function(t){var a=this,i=e.getStorageSync("openid");if(t.detail.value.address=this.city[0]+this.city[1]+this.city[2],t.detail.value.openId=i,t.detail.value.roleType=3,t.detail.value.headUrl=this.avatar,t.detail.value.sex=this.sexIndex,t.detail.value.cid=this.jobId[this.jobIndex],t.detail.value.age=t.detail.value.age,t.detail.value.height=t.detail.value.height,t.detail.value.weight=t.detail.value.weight,t.detail.value.bust=t.detail.value.bust,t.detail.value.hipLine=t.detail.value.hipLine,"选择地址"==t.detail.value.address||""==t.detail.value.userName||""==t.detail.value.age||""==t.detail.value.phone||""==t.detail.value.height||""==t.detail.value.weight||""==t.detail.value.bust||""==t.detail.value.hipLine||0==this.uplicense||0==this.upvideo||0==this.upimg)return e.showModal({title:"提示",content:"请填写完整信息"}),!1;e.showLoading(),console.log(t),e.request({url:a.$store.state.baseurl+"/user/insertUser",data:t.detail.value,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(o){if(1==o.data.data){console.log(a.video),e.uploadFile({url:a.$store.state.baseurl+"/user/videoUpload",filePath:a.video,name:"videoUrl",formData:{openId:t.detail.value.openId},method:"POST",header:{"Content-Type":"multipart/form-data"},success:function(e){console.log(e)}}),e.uploadFile({url:a.$store.state.baseurl+"/user/fileUpload",filePath:a.avatar,name:"headUrl",formData:{openId:i},method:"POST",header:{"Content-Type":"multipart/form-data"},success:function(e){}}),e.uploadFile({url:a.$store.state.baseurl+"/user/fileUpload",filePath:a.License[0],name:"card",formData:{openId:t.detail.value.openId},method:"POST",header:{"Content-Type":"multipart/form-data"},success:function(e){}});for(var n=0;n<a.img.length;n++)e.uploadFile({url:a.$store.state.baseurl+"/user/fileUpload",filePath:a.img[n],name:"selfPhoto",formData:{openId:t.detail.value.openId},method:"POST",header:{"Content-Type":"multipart/form-data"},success:function(t){e.hideLoading(),e.reLaunch({url:"/pages/status/index"})}})}else e.hideLoading()}})}}};t.default=a}).call(this,a("543d")["default"])},e933:function(e,t,a){}},[["aaf3","common/runtime","common/vendor"]]]);